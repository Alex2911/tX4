var flaggen = new Array();

	flaggen['de'] = new Array();
	flaggen['de']['url'] = 'http://www.travian.de/';
	flaggen['de']['img'] = '0';

	flaggen['com'] = new Array();
	flaggen['com']['url'] = 'http://www.travian.com/';
	flaggen['com']['img'] = '21';
	
	flaggen['net'] = new Array();
	flaggen['net']['url'] = 'http://www.travian.net/';
	flaggen['net']['img'] = '42';
	
	//flaggen['cat'] = new Array();
	//flaggen['cat']['url'] = 'http://www.travian.cat/';
	//flaggen['cat']['img'] = '63';
	
	flaggen['nl'] = new Array();
	flaggen['nl']['url'] = 'http://www.travian.nl/';
	flaggen['nl']['img'] = '84';
	
	flaggen['it'] = new Array();
	flaggen['it']['url'] = 'http://www.travian.it/';
	flaggen['it']['img'] = '105';
	
	flaggen['fr'] = new Array();
	flaggen['fr']['url'] = 'http://www.travian.fr/';
	flaggen['fr']['img'] = '126';
	
	flaggen['pl'] = new Array();
	flaggen['pl']['url'] = 'http://www.travian.pl/';
	flaggen['pl']['img'] = '147';
	
	flaggen['pt'] = new Array();
	flaggen['pt']['url'] = 'http://www.travian.pt/';
	flaggen['pt']['img'] = '168';
	
	flaggen['br'] = new Array();
	flaggen['br']['url'] = 'http://www.travian.com.br/';
	flaggen['br']['img'] = '189';
	
	flaggen['ar'] = new Array();
	flaggen['ar']['url'] = 'http://www.travian.com.ar/';
	flaggen['ar']['img'] = '210';
	
	flaggen['cl'] = new Array();
	flaggen['cl']['url'] = 'http://www.travian.cl/';
	flaggen['cl']['img'] = '231';
	
	flaggen['mx'] = new Array();
	flaggen['mx']['url'] = 'http://www.travian.com.mx/';
	flaggen['mx']['img'] = '252';
	
	flaggen['tr'] = new Array();
	flaggen['tr']['url'] = 'http://www.travian.com.tr/';
	flaggen['tr']['img'] = '273';
	
	flaggen['ru'] = new Array();
	flaggen['ru']['url'] = 'http://www.travian.ru/';
	flaggen['ru']['img'] = '294';
	
	flaggen['ua'] = new Array();
	flaggen['ua']['url'] = 'http://www.travian.com.ua/';
	flaggen['ua']['img'] = '315';
	
	flaggen['lt'] = new Array();
	flaggen['lt']['url'] = 'http://www.travian.lt/';
	flaggen['lt']['img'] = '336';
	
	flaggen['bg'] = new Array();
	flaggen['bg']['url'] = 'http://www.travian.bg/';
	flaggen['bg']['img'] = '357';
	
	flaggen['ro'] = new Array();
	flaggen['ro']['url'] = 'http://www.travian.ro/';
	flaggen['ro']['img'] = '378';
	
	flaggen['cz'] = new Array();
	flaggen['cz']['url'] = 'http://www.travian.cz/';
	flaggen['cz']['img'] = '399';
	
	flaggen['sk'] = new Array();
	flaggen['sk']['url'] = 'http://www.travian.sk/';
	flaggen['sk']['img'] = '420';
	
	flaggen['hu'] = new Array();
	flaggen['hu']['url'] = 'http://www.travian.hu/';
	flaggen['hu']['img'] = '441';
	
	flaggen['si'] = new Array();
	flaggen['si']['url'] = 'http://www.travian.si/';
	flaggen['si']['img'] = '462';
	
	flaggen['ba'] = new Array();
	flaggen['ba']['url'] = 'http://www.travian.ba/';
	flaggen['ba']['img'] = '483';
	
	flaggen['hr'] = new Array();
	flaggen['hr']['url'] = 'http://www.travian.com.hr/';
	flaggen['hr']['img'] = '504';
	
	flaggen['rs'] = new Array();
	flaggen['rs']['url'] = 'http://www.travian.rs/';
	flaggen['rs']['img'] = '525';
	
	flaggen['cn'] = new Array();
	flaggen['cn']['url'] = 'http://www.travian.cc/';
	flaggen['cn']['img'] = '546';
	
	flaggen['hk'] = new Array();
	flaggen['hk']['url'] = 'http://www.travian.hk/';
	flaggen['hk']['img'] = '567';
	
	flaggen['dk'] = new Array();
	flaggen['dk']['url'] = 'http://www.travian.dk/';
	flaggen['dk']['img'] = '588';
	
	flaggen['se'] = new Array();
	flaggen['se']['url'] = 'http://www.travian.se/';
	flaggen['se']['img'] = '609';
	
	flaggen['fi'] = new Array();
	flaggen['fi']['url'] = 'http://www.travian.fi/';
	flaggen['fi']['img'] = '630';
	
	flaggen['no'] = new Array();
	flaggen['no']['url'] = 'http://www.travian.no/';
	flaggen['no']['img'] = '651';
	
	flaggen['us'] = new Array();
	flaggen['us']['url'] = 'http://www.travian.us/';
	flaggen['us']['img'] = '672';
	
	flaggen['uk'] = new Array();
	flaggen['uk']['url'] = 'http://www.travian.co.uk/';
	flaggen['uk']['img'] = '693';
	
	flaggen['ae'] = new Array();
	flaggen['ae']['url'] = 'http://www.travian.ae/';
	flaggen['ae']['img'] = '714';
	
	flaggen['gr'] = new Array();
	flaggen['gr']['url'] = 'http://www.travian.gr/';
	flaggen['gr']['img'] = '735';
	
	flaggen['tw'] = new Array();
	flaggen['tw']['url'] = 'http://www.travian.tw/';
	flaggen['tw']['img'] = '756';
	
	flaggen['il'] = new Array();
	flaggen['il']['url'] = 'http://www.travian.co.il/';
	flaggen['il']['img'] = '777';
	
	flaggen['id'] = new Array();
	flaggen['id']['url'] = 'http://www.travian.co.id/';
	flaggen['id']['img'] = '798';
	
	flaggen['in'] = new Array();
	flaggen['in']['url'] = 'http://www.travian.in/';
	flaggen['in']['img'] = '819';
	
	flaggen['jp'] = new Array();
	flaggen['jp']['url'] = 'http://www.travian.jp/';
	flaggen['jp']['img'] = '840';
	
	flaggen['kr'] = new Array();
	flaggen['kr']['url'] = 'http://www.travian.co.kr/';
	flaggen['kr']['img'] = '861';
	
	flaggen['my'] = new Array();
	flaggen['my']['url'] = 'http://www.travian.com.my/';
	flaggen['my']['img'] = '882';
	
	flaggen['ph'] = new Array();
	flaggen['ph']['url'] = 'http://www.travian.ph/';
	flaggen['ph']['img'] = '903';
	
	flaggen['asia'] = new Array();
	flaggen['asia']['url'] = 'http://www.travian.asia/';
	flaggen['asia']['img'] = '924';
	
	flaggen['vn'] = new Array();
	flaggen['vn']['url'] = 'http://www.travian.com.vn/';
	flaggen['vn']['img'] = '945';
	
	//flaggen['by'] = new Array();
	//flaggen['by']['url'] = 'http://www.travian.by/';
	//flaggen['by']['img'] = '966';
	
	//flaggen['ch'] = new Array();
	//flaggen['ch']['url'] = 'http://www.travian.de/';
	//flaggen['ch']['img'] = '987';
	
	flaggen['ee'] = new Array();
	flaggen['ee']['url'] = 'http://www.travian.co.ee/';
	flaggen['ee']['img'] = '1008';
	
	flaggen['lv'] = new Array();
	flaggen['lv']['url'] = 'http://www.travian.lv/';
	flaggen['lv']['img'] = '1029';
	
	//flaggen['ie'] = new Array();
	//flaggen['ie']['url'] = 'http://www.travian.ie/';
	//flaggen['ie']['img'] = '1050';
	
	//flaggen['ca'] = new Array();
	//flaggen['ca']['url'] = 'http://www.travian.ca/';
	//flaggen['ca']['img'] = '1071';
	
	flaggen['ir'] = new Array();
	flaggen['ir']['url'] = 'http://www.travian.ir/';
	flaggen['ir']['img'] = '1092';
	
	flaggen['za'] = new Array();
	flaggen['za']['url'] = 'http://www.travian.co.za/';
	flaggen['za']['img'] = '1113';
	
	flaggen['au'] = new Array();
	flaggen['au']['url'] = 'http://www.travian.com.au/';
	flaggen['au']['img'] = '1134';
	
	flaggen['nz'] = new Array();
	flaggen['nz']['url'] = 'http://www.travian.co.nz/';
	flaggen['nz']['img'] = '1155';
	
	flaggen['pk'] = new Array();
	flaggen['pk']['url'] = 'http://www.travian.pk/';
	flaggen['pk']['img'] = '1176';

	flaggen['eg'] = new Array();
	flaggen['eg']['url'] = 'http://www.travian.com.eg/';
	flaggen['eg']['img'] = '1197';
	
	flaggen['sy'] = new Array();
	flaggen['sy']['url'] = 'http://sy.travian.com/';
	flaggen['sy']['img'] = '1218';
	
	flaggen['sa'] = new Array();
	flaggen['sa']['url'] = 'http://www.travian.com.sa/';
	flaggen['sa']['img'] = '1239';
	
	flaggen['ma'] = new Array();
	flaggen['ma']['url'] = 'http://www.travian.ma/';
	flaggen['ma']['img'] = '1260';
	
var region = new Array();

	//Europe
	region[0] = new Array('ba','bg','com','cz','de','dk','fi','fr','gr','hr','hu',
				'il','it','lt','net','nl','no','pl','pt','ro','rs','ru','se','si',
				'sk','tr','ua','uk','ee','lv');  
	
	//America
	region[1]= new Array('ar','br','cl','mx','us');										
	
	//Asia
	region[2]= new Array('cn','com','hk','in','id','jp','my','ph','kr','asia','vn',
				'pk'); 	
	
	//Middle East
	region[3]= new Array('ae','ir','eg','sy','sa','ma');							
	
	//Africa
	region[4]= new Array('za', 'ma', 'eg');														

	//Oceania
	region[5]= new Array('au','nz');												

var jsTLD='';
var jsAD =0;

function region_box(r, regions)
{
	var options	= '';
	
	for (var i = 0; i < regions.length; i++)
	{
		options += '<option value="' + i + '" ' + (i == r ? 'selected="selected"' : '') + '>' + regions[i] + '</option>';
	}
	
	return	'' +
				'' +
					'<select id="region_select" name="region" onchange="change_flags(this.value);">' +
						options + 
					'</select>' +
				'' +
			''
	;
}

function flag_box(r){
var flags = '';
var query = ' ';
		if (jsAD!='') { query = '?ad='+jsAD; }
		region[r].sort();
		for(var i=0; i<region[r].length; i++) {
			reg = region[r][i];
			flags = flags+'<a href="'+flaggen[reg]['url']+query+'"><img alt="'+reg+'" title="'+reg+'" class="flag_'+reg+'" src="img/un/x.gif" /></a>';
		}
return flags;
}

function change_flags(r){
	var dnode = document.getElementById("flag_box");
	if (dnode!=null){
		var flags=flag_box(r);
		dnode.innerHTML = flags;
	}
}

function select_region(tld){
	var found = false;
	for (var i in region){
		for(var j in region[i]){ if (region[i][j]==tld){found=true; break;} } 
		if(found==true){ break; }
	}	
	if (found==true){ return i; } else { return 0; }
}

function show_flags(tld, ad, regions){
	var reg_select = select_region(tld);
	var regbox = region_box(reg_select, regions);
	jsTLD = tld; jsAD = ad;
	var flags  = flag_box(reg_select);	
	var node = document.getElementById("flags");
	
	if (node!=null){
		node.innerHTML = ''+regbox+'<div class="region_flag" id="flag_box">'+flags+'</div>';
	}
}